(this.webpackJsonpdatavis=this.webpackJsonpdatavis||[]).push([[0],{17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(3),c=n(9),i=n.n(c),o=n(2),s=n(8);var l=function(t){var e=t.node,n=t.width,c=t.height,i=t.cityAverages,o=Object(a.useRef)(e);return console.log("Creating CirclePlot component.",e,n,o),Object(a.useEffect)((function(){!function(t,e){function r(){if(s.select(".svgParent svg")._groups[0][0])return!0}if(r())return;var a,l,u,d,f,p,j,m,h=s.select(o.current).append("svg").attr("width",n).attr("height",c),b=10,x="Vermogen ten opzichten van groei in parkeer automaten",g={top:70,right:120,bottom:80,left:140},v="18",O=120,y=n-g.left-g.right,w=c-g.top-g.bottom;h.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",y).attr("height",w);var k=e,S=t,P=function(t){return t[k]},A=function(t){return t[S]},N=s.zoom().scaleExtent([1,20]).extent([[0,0],[n,c]]).on("zoom",L);h.call(N);var z=Object.getOwnPropertyNames(i[0]).slice(1,4),E=h.append("g").attr("transform","translate(".concat(g.left,", ").concat(g.top,")"));E.append("text").attr("y",-40).text(x),Y(),J(z),B();var I,C=E.append("g").attr("clip-path","url(#clip)").classed("points_g",!0);function Y(){a=s.scaleLinear().domain(s.extent(i,P)).range([0,y]).nice(),l=s.scaleLinear().domain([s.max(i,A),s.min(i,A)]).range([0,w]).nice()}function B(){u=s.axisBottom(a).tickSize(-w).tickPadding(15),d=s.axisLeft(l).tickSize(-y).tickPadding(15),(f=E.append("g")).append("text").attr("fill","white").attr("class","axis-label").attr("transform","rotate(-90)").text(S).attr("y",-50).attr("x",-w/2).attr("text-anchor","middle"),(p=E.append("g").call(u)).attr("transform","translate(0, ".concat(w,")")).selectAll(".domain").remove(),p.append("text").attr("y",50).attr("x",y/2).attr("fill","white").attr("class","axis-label").text(k)}function G(){S=this?this.value:S,_()||(l.domain([s.max(i,A),0]),f.call(d),f.selectAll(".domain").remove(),f.select("text").text(S),(I=C.selectAll("circle").data(i)).transition().attr("cy",(function(t){return l(A(t))})),(I=I.enter().append("circle").on("mouseover",q).on("mouseout",D).attr("cy",(function(t){return l(A(t))})).attr("cx",(function(t){return a(P(t))})).attr("r",b).attr("fill","white")).exit().remove())}function J(t,e){s.select(o.current).append("form").append("select").text("Select a text value").on("change",G).selectAll("option").data(t).enter().append("option").attr("value",(function(t){return t})).text((function(t){return"Y-as: "+t})).property("selected",(function(t){return t===S}))}function L(t){X(t);var e=t.transform.rescaleX(a),n=t.transform.rescaleY(l);p.call(u.scale(e)),f.call(d.scale(n)),(I=C.selectAll("circle").data(i)).attr("cx",(function(t){return e(P(t))})).attr("cy",(function(t){return n(A(t))}))}function X(t){1==t.transform.k&&(t.transform.x>O&&(t.transform.x=20),t.transform.y<-O&&(t.transform.y=-20))}function _(){if(s.select(".error").remove(),S==k)return s.select("form").append("text").text("Het heeft weinig zin om dezelfde assen te kiezen!").classed("error",!0),!0}function q(t,e){var n=e.city.replace(/[\W_]+/g,"");s.select(this).transition().attr("r",2*b).attr("fill","orangered"),m=t.offsetX>y-y/4?150:-10,j=t.offsetY>w-w/4?60:-10,H(t,e,n)}function D(t,e){var n=e.city.replace(/[\W_]+/g,"");s.select(this).transition().attr("r",b).attr("fill","white"),F(t,n)}function H(t,e,n){h.append("text").attr("id","t"+n).attr("x",t.offsetX-m).attr("y",t.offsetY-j).text("".concat(e.city)),h.append("text").attr("id","t"+n+"1").attr("x",t.offsetX-m).attr("y",t.offsetY-j+1*v).text("Gemiddeld vermogen: ".concat(e.GemiddeldVermogenPlaats)),h.append("text").attr("id","t"+n+"2").attr("x",t.offsetX-m).attr("y",t.offsetY-j+2*v).text("Gemiddelde uur prijs: ".concat(e.gemiddeldeUurPrijs)),h.append("text").attr("id","t"+n+"3").attr("x",t.offsetX-m).attr("y",t.offsetY-j+3*v).text("gemiddelde groei per jaar: ".concat(e.gemiddeldeGroeiPerJaar))}function F(t,e){s.select("#t"+e).remove(),s.select("#t"+e+"1").remove(),s.select("#t"+e+"2").remove(),s.select("#t"+e+"3").remove()}G()}("gemiddeldeUurPrijs","gemiddeldeGroeiPerJaar")})),Object(r.jsx)("section",{ref:o,className:"svgParent"})},u=(n(17),n(4)),d=n(8),f=50,p=20,j=20,m=50;function h(t){var e=t.cityObject,n=Object(a.useState)(e.data),c=Object(o.a)(n,2),i=c[0],s=(c[1],e.city),l=450-m-p,u=350-f-j,h=d.scaleBand().domain(i.map((function(t){return t.jaar}))).range([0,l]).padding(.1),b=d.scaleLinear().domain([d.max(i,(function(t){return t.aantal})),0]).range([0,u]);return Object(r.jsx)("li",{children:Object(r.jsx)("svg",{width:450,height:350,children:Object(r.jsxs)("g",{transform:"translate(".concat(m,", ").concat(f,")"),children:[Object(r.jsx)("text",{className:"barchart-title",x:l/2,y:"-.71em",children:s}),b.ticks().map((function(t){return Object(r.jsxs)("g",{transform:"translate(".concat(0,", ",b(t),")"),children:[Object(r.jsx)("line",{x2:l,stroke:"lightblue"}),Object(r.jsx)("text",{dy:".32em",dx:"-.2em",style:{textAnchor:"end"},children:t})]})})),h.domain().map((function(t){return Object(r.jsx)("text",{y:u+5,x:h(t)+h.bandwidth()/2,dy:".71em",style:{textAnchor:"middle"},children:t})})),i.map((function(t){return Object(r.jsx)("rect",{y:b(t.aantal),x:h(t.jaar),height:u-b(t.aantal),width:h.bandwidth()},e.city)}))]})})})}function b(t,e){var n=function(t){var e=t.map((function(t){return t.jaar})),n=Object(u.a)(new Set(e));console.log(n);var r={};n.forEach((function(t){r[t]=0}));for(var a=0;a<t.length;++a)for(var c=0;c<n.length;c++)t[a].jaar==n[c]&&(r[n[c]]+=1);return r}(function(t){return t.map((function(t){var e=t.startdatesellingpoint.slice(0,4);return{city:t.city,jaar:e}}))}(function(t,e,n){return t.filter((function(t){return t[e]===n}))}(t,"city",e))),r=[];for(var a in n)r.push({jaar:a,aantal:n[a]});var c=function(t,e){var n=Object(u.a)(new Set(t));if("undefined"==typeof e)return n.sort((function(t,e){return e-t}));return n.sort((function(t,n){return n[e]-t[e]}))}(r,"jaar");return console.log(c),r}function x(t){var e=t.cityAverages,n=t.verkoopPunten,c="CITIES_LIST_KEY",i=Object(a.useState)([]),s=Object(o.a)(i,2),l=s[0],d=s[1],f=Object(a.useRef)();return Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem(c));d(t)}),[]),Object(a.useEffect)((function(){localStorage.setItem(c,JSON.stringify(l))}),[l]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{className:"barchart-container",children:[Object(r.jsxs)("form",{children:[Object(r.jsx)("select",{ref:f,children:e.map((function(t){return Object(r.jsx)("option",{value:t.city,children:t.city},t.city)}))}),Object(r.jsx)("button",{type:"button",onClick:function(){var t=f.current.value,e={city:t,data:b(n,t)};d([].concat(Object(u.a)(l),[e]))},children:"Add"}),Object(r.jsx)("button",{type:"button",onClick:function(){d([])},children:"Clear"})]}),Object(r.jsx)("ul",{children:l.map((function(t){return Object(r.jsx)(h,{cityObject:t},t)}))})]})})}function g(t){var e=t.heading,n=t.text;return Object(r.jsx)("section",{className:"introduction",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:e}),Object(r.jsx)("p",{children:n})]})})}var v=n(1),O=n.n(v),y=n(10);function w(t){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(O.a.mark((function t(e){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){var e=t.scrollDirection;return Object(r.jsxs)(r.Fragment,{children:[1===e&&Object(r.jsx)("button",{className:"scroll-button up",onClick:function(){var t=window.innerHeight;window.scrollBy(0,-t)},children:"Up!"}),2===e&&Object(r.jsx)("button",{className:"scroll-button down",onClick:function(){var t=window.innerHeight;window.scrollBy(0,t)},children:"Next!"})]})}function P(){return Object(r.jsxs)("section",{className:"about",children:[Object(r.jsx)("h2",{children:"Over dit project"}),Object(r.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nulla doloribus labore eius sint optio facilis molestiae, aut eum similique incidunt fugiat illo laudantium, illum accusantium magni pariatur porro, deserunt quod ullam repellat cupiditate maiores. Ipsa officia quod odio quaerat eius."})]})}n(8);var A=document.getElementById("root"),N=window.innerWidth,z=window.innerHeight;var E=function(){var t=Object(a.useState)(null),e=Object(o.a)(t,2),n=e[0],c=e[1],i=Object(a.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1];return Object(a.useEffect)((function(){w("https://gist.githubusercontent.com/SamSlotemaker/d11dd2741cfbaf8f64ac72b0c200685a/raw/48058e82f20483c1d6c94071ac26c585989dbd02/stadsGemiddelden.json").then((function(t){c(t)})),w("https://gist.githubusercontent.com/SamSlotemaker/62fc5047562f522f21bd584605297a3e/raw/1645b201852ba7e368ebae45136d9bb69dae7907/verkoopPunten.json").then((function(t){d(t)}))}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S,{scrollDirection:1}),Object(r.jsx)(S,{scrollDirection:2}),Object(r.jsx)(g,{heading:"De auto in de stad",text:"Parkeerdata kent vele richting en inzichten. Ik heb er voor gekozen om mijn te richten op het verschil in welvaart tussen bepaalde gebieden. Ik ben gaan kijken naar het verschil in welvaart per gebied en de parkeerdata. Ook heb ik gekeken of duurdere parkeergebieden meer terugkrijgen voor hun geld."}),n&&Object(r.jsx)(l,{cityAverages:n,node:A,width:N-100,height:z-50}),n&&u&&Object(r.jsx)(x,{cityAverages:n,verkoopPunten:u}),Object(r.jsx)(P,{})]})};i.a.render(Object(r.jsx)(E,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.55670d36.chunk.js.map